# ğŸ“ì •ë¦¬ ë‚´ìš©

- **Next.jsë¡œ ì›¹ì‚¬ì´íŠ¸ ë§Œë“¤ê¸°**

## ğŸ’¡ ì²˜ìŒ ì•Œê²Œ ëœ ì‚¬ì‹¤

### ë¼ìš°íŒ… ì •ë¦¬

- Next.jsì—ì„œ ë¼ìš°íŒ…í•˜ëŠ” ë°©ë²•.
- **íŒŒì¼ ì‹œìŠ¤í…œ ê¸°ë°˜**ì˜ **ë¼ìš°íŒ…**ì„ ì§€ì›
  â†’ ë§ˆì¹˜ HTML íŒŒì¼ì„ ë§Œë“œëŠ” ê²ƒì²˜ëŸ¼ ì§ê´€ì ìœ¼ë¡œ í˜ì´ì§€ ë¶„ë¦¬ ê°€ëŠ¥

### **`<Link>`Â ì»´í¬ë„ŒíŠ¸**

Next.jsì—ì„œëŠ” ë§í¬ ì—°ê²° ì‹œ `<a>` íƒœê·¸ ëŒ€ì‹ ì— `<Link>` ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©. `<a>` íƒœê·¸ë¥¼ ì‚¬ìš©í•˜ë©´ í˜ì´ì§€ë¥¼ ì´ë™í•  ë•Œ í˜ì´ì§€ ì „ì²´ë¥¼ **ë¦¬ë¡œë”©**í•˜ê¸° ë•Œë¬¸ì— ì†ë„ê°€ ëŠë¦¬ê³ , **ë¹ˆ í™”ë©´**ì´ ì ê¹ ë³´ì´ë©´ì„œ ê¹œë¹¡ê±°ë¦¼ì´ ìƒê¸°ì§€ë§Œ, **`<Link>`** ì»´í¬ë„ŒíŠ¸ëŠ” Next.jsì—ì„œ ë‚´ë¶€ì ìœ¼ë¡œ ì—¬ëŸ¬ ê°€ì§€ **ìµœì í™”**ë¥¼ í•´ì£¼ê¸° ë•Œë¬¸ì— **ë¹ ë¥´ê³ ** **ë¶€ë“œëŸ¬ìš´ í˜ì´ì§€ ì „í™˜**ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

```jsx
import Link from 'next/link';

export default Page() {
  return <Link href="/">í™ˆí˜ì´ì§€ë¡œ ì´ë™</Link>;
}
```

## **`useRouter()`Â Hook**

### **ì¿¼ë¦¬ ì‚¬ìš©í•˜ê¸°**

`router.query` ê°’ìœ¼ë¡œ í˜ì´ì§€ ì£¼ì†Œì—ì„œ **Params** ê°’ì´ë‚˜ **ì¿¼ë¦¬ìŠ¤íŠ¸ë§** ê°’ ì°¸ì¡° ê°€ëŠ¥

**pages/products/[id].js**

```jsx
import { useRouter } from "next/router";

export default function Product() {
  const router = useRouter();
  const id = router.query["id"];

  return <>Product #{id} í˜ì´ì§€</>;
}
```

- `pages/products/[id].js` í˜ì´ì§€ì—ì„œ `router.query['id']` ê°’ìœ¼ë¡œ Params `id`ì— í•´ë‹¹í•˜ëŠ” ê°’ê°€ì ¸ì˜¤ê¸° ê°€ëŠ¥

**pages/search.js**

```jsx
import { useRouter } from "next/router";

export default function Search() {
  const router = useRouter();
  const q = router.query["q"];

  return <>{q} ê²€ìƒ‰ ê²°ê³¼</>;
}
```

- `/search?q=í‹°ì…”ì¸ `ì˜ ì£¼ì†Œë¡œ ë“¤ì–´ì™”ì„ ë•Œ `router.query['q']` ê°’ìœ¼ë¡œ ì¿¼ë¦¬ìŠ¤íŠ¸ë§ `q`ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ë¶ˆëŸ¬ì˜¤ê¸° ê°€ëŠ¥

### **í˜ì´ì§€ ì´ë™í•˜ê¸°**

`router.push()` í•¨ìˆ˜ ì‚¬ìš© ì‹œ ì½”ë“œë¡œ í˜ì´ì§€ ì´ë™ ê°€ëŠ¥

```jsx
import { useState } from "react";
import { useRouter } from "next/router";

export default function SearchForm() {
  const [value, setValue] = useState();
  const router = useRouter();

  function handleChange(e) {
    setValue(e.target.value);
  }

  function handleSubmit(e) {
    e.preventDefault();
    if (!value) {
      return router.push("/");
    }
    return router.push(`/search?q=${value}`);
  }

  return (
    <form onSubmit={handleSubmit}>
      <input name="q" value={value} onChange={handleChange} />
      <button>ê²€ìƒ‰</button>
    </form>
  );
}
```

### **ë¦¬ë‹¤ì´ë ‰íŠ¸**

`next.config.js` íŒŒì¼ ìˆ˜ì • ì‹œ íŠ¹ì • ì£¼ì†Œì— ëŒ€í•´ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸í•  ì£¼ì†Œ ì§€ì • ê°€ëŠ¥.

ì˜ˆë¡œ `/products/:id`ë¼ëŠ” ì£¼ì†Œë¡œ ë“¤ì–´ì˜¤ë©´ `/items/:id`ë¼ëŠ” ì£¼ì†Œë¡œ ì´ë™ì‹œí‚¤ê¸° ê°€ëŠ¥

```jsx
/** @type {import('next').NextConfig} */
const nextConfig = {
  async redirects() {
    return [
      {
        source: "/products/:id",
        destination: "/items/:id",
        permanent: true,
      },
    ];
  },
};

module.exports = nextConfig;
```

- `permanent` ì†ì„±: ìƒíƒœ ì½”ë“œ ì •ì˜
- `permanent: false`ë¡œ í•˜ë©´ **307** Temporary Redirectë¥¼ í•˜ê³ , `permanent: true`ë¡œ í•˜ë©´ ë¸Œë¼ìš°ì €ì— ë¦¬ë‹¤ì´ë ‰íŠ¸ **ì •ë³´**ë¥¼ **ì €ì¥**í•˜ëŠ” **308** Permanent Redirect ê°€ëŠ¥

### **ì»¤ìŠ¤í…€ 404 í˜ì´ì§€**

- ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì£¼ì†Œë¡œ ë“¤ì–´ì˜¬ ê²½ìš°ì— Next.jsì˜ ê¸°ë³¸ì ì¸ 404 í˜ì´ì§€ ì¡´ì¬.
- ë‚´ê°€ ì›í•˜ëŠ” 404 í˜ì´ì§€ë¥¼ ë³´ì—¬ì£¼ë ¤ë©´ `pages/**404.js**` íŒŒì¼ ìƒì„± í›„ ì¼ë°˜ì ì¸ í˜ì´ì§€ì²˜ëŸ¼ êµ¬í˜„

### **ì»¤ìŠ¤í…€ App**

- ì»¤ìŠ¤í…€ `App` ì»´í¬ë„ŒíŠ¸ ìˆ˜ì • â†’ \*\*\*\*ëª¨ë“  í˜ì´ì§€ì— ê³µí†µì ìœ¼ë¡œ ì½”ë“œ ì ìš©
- `pages/_app.js` íŒŒì¼ì— ìˆëŠ” ì»´í¬ë„ŒíŠ¸ë¡œ ì´ ì»´í¬ë„ŒíŠ¸ì— ì‚¬ì´íŠ¸ ì „ì²´ì—ì„œ ë³´ì—¬ ì¤„ ì»´í¬ë„ŒíŠ¸ë‚˜ ì „ì²´ì ìœ¼ë¡œ ì ìš©í•  ë¦¬ì•¡íŠ¸ ì»¨í…ìŠ¤íŠ¸ ì ìš© ê°€ëŠ¥.
- ë˜í•œ ì‚¬ì´íŠ¸ ì „ì²´ì— ì ìš©í•  CSS íŒŒì¼ë„ ì—¬ê¸°ì„œ ì„í¬íŠ¸ ê°€ëŠ¥
- ì»¤ìŠ¤í…€ `App` ì»´í¬ë„ŒíŠ¸ì˜ PropsëŠ” `Component`ì™€ `pageProps`ê°€ ìˆëŠ”ë°ìš”. ìš°ë¦¬ê°€ ë§Œë“  í˜ì´ì§€ë“¤ì´ `Component` Propìœ¼ë¡œ ì „ë‹¬ë˜ê³  ì—¬ê¸°ì— ë‚´ë¶€ì ìœ¼ë¡œ í•„ìš”í•œ PropsëŠ” `pageProps`ë¡œ ì „ë‹¬ë¨

**pages/\_app.js**

```jsx
import Header from "@/components/Header";
import { ThemeProvider } from "@/lib/ThemeContext";
import "@/styles/globals.css";

export default function App({ Component, pageProps }) {
  return (
    <ThemeProvider>
      <Header />
      <Component {...pageProps} />
    </ThemeProvider>
  );
}
```

### **ì»¤ìŠ¤í…€ Document**

- `pages/_document.js` íŒŒì¼ì˜ `Document` ì»´í¬ë„ŒíŠ¸ëŠ” HTML ì½”ë“œì˜ ë¼ˆëŒ€ ìˆ˜ì • ìš©ë„ë¡œ ì‚¬ìš©.
- ì½”ë“œëŠ” React ì»´í¬ë„ŒíŠ¸ì´ì§€ë§Œ ì¼ë°˜ì ì¸ ì»´í¬ë„ŒíŠ¸ì²˜ëŸ¼ ë™ì‘ X â‡’ `useState`ë‚˜ `useEffect`ì²˜ëŸ¼ ë¸Œë¼ìš°ì €ì—ì„œ ì‹¤í–‰ì´ í•„ìš”í•œ ê¸°ëŠ¥ë“¤ ì‚¬ìš© ë¶ˆê°€

**pages/\_document.js**

```jsx
import { Html, Head, Main, NextScript } from "next/document";

export default function Document() {
  return (
    <Html lang="ko">
      <Head />
      <body>
        <Main />
        <NextScript />
      </body>
    </Html>
  );
}
```

## ğŸ“Œ ê¸°ì–µí•  ê²ƒ
